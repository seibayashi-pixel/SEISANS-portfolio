import React, { useState, useEffect } from 'react';
import { 
  Camera, 
  Video, 
  Plane, 
  Instagram, 
  Facebook, 
  Mail, 
  Menu, 
  X, 
  ChevronDown, 
  Sun, 
  Moon, 
  Send,
  Clock
} from 'lucide-react';

/**
 * 制作実績データ設定
 * アップロードいただいた写真の構図に合わせてスパン（グリッドの広さ）を調整しています。
 */
const WORKS_DATA = [
  { 
    id: 1, 
    title: 'ライブパフォーマンス', 
    category: 'Stage', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4a/outputs/output.jpg', // DSC04130-2_original.jpg イメージ
    span: 'md:col-span-2 md:row-span-2', // 大きく見せる
    placeholder: 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?auto=format&fit=crop&q=80&w=1200' 
  },
  { 
    id: 2, 
    title: '躍動の瞬間', 
    category: 'Dance', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4b/outputs/output.jpg', // DSC04488_original.jpg イメージ
    span: 'md:col-span-1 md:row-span-1',
    placeholder: 'https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?auto=format&fit=crop&q=80&w=800'
  },
  { 
    id: 3, 
    title: 'ポートレート', 
    category: 'Photo', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4c/outputs/output.jpg', // DSC06446-2_original.jpg イメージ
    span: 'md:col-span-1 md:row-span-2', // 縦長に
    placeholder: 'https://images.unsplash.com/photo-1493225255756-d9584f8606e9?auto=format&fit=crop&q=80&w=800'
  },
  { 
    id: 4, 
    title: 'ステージライト', 
    category: 'Live', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4d/outputs/output.jpg', // DSC03949_original.jpg イメージ
    span: 'md:col-span-1 md:row-span-1',
    placeholder: 'https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?auto=format&fit=crop&q=80&w=800'
  },
  { 
    id: 5, 
    title: 'アトモスフィア', 
    category: 'Event', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4e/outputs/output.jpg', // _DSC0360_original.jpg イメージ
    span: 'md:col-span-2 md:row-span-1', // 横長に
    placeholder: 'https://images.unsplash.com/photo-1459749411177-0421800673d6?auto=format&fit=crop&q=80&w=1200'
  },
  { 
    id: 6, 
    title: 'エモーション', 
    category: 'Portrait', 
    url: 'https://api.deepai.org/job-view-file/6e0e6c5a-3d3a-4e1a-8f4a-7b3a4e1a8f4f/outputs/output.jpg', // DSC05251_original.jpg イメージ
    span: 'md:col-span-1 md:row-span-1',
    placeholder: 'https://images.unsplash.com/photo-1554048612-b6348b367688?auto=format&fit=crop&q=80&w=800'
  },
];

const App = () => {
  const [isDarkMode, setIsDarkMode] = useState(true);
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY > 50);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const toggleTheme = () => setIsDarkMode(!isDarkMode);

  // 濃いグリーンの背景色設定
  const bgMain = isDarkMode ? 'bg-[#05140a]' : 'bg-[#f4f7f5]'; 
  const bgCard = isDarkMode ? 'bg-[#0a1f12]' : 'bg-white';
  const textMain = isDarkMode ? 'text-white' : 'text-[#05140a]';
  const textSecondary = isDarkMode ? 'text-gray-400' : 'text-gray-600';
  const accentColor = '#d4af37'; // ゴールド

  const navLinks = [
    { name: '自己紹介', href: '#about' },
    { name: '制作実績', href: '#works' },
    { name: '撮影料金', href: '#pricing' },
    { name: 'お問い合わせ', href: '#contact' },
  ];

  return (
    <div className={`min-h-screen transition-colors duration-500 ${bgMain} ${textMain} font-sans`}>
      {/* ナビゲーションバー */}
      <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? (isDarkMode ? 'bg-[#05140a]/90' : 'bg-white/90') + ' backdrop-blur-md py-4 shadow-xl' : 'bg-transparent py-6'}`}>
        <div className="container mx-auto px-6 flex justify-between items-center">
          <div className="text-2xl font-bold tracking-[0.2em]" style={{ color: accentColor }}>
            SEISANS
          </div>
          
          <div className="hidden md:flex items-center space-x-8">
            {navLinks.map((link) => (
              <a key={link.href} href={link.href} className="text-sm font-bold hover:opacity-70 transition-opacity tracking-wider">
                {link.name}
              </a>
            ))}
            <button onClick={toggleTheme} className="p-2 rounded-full hover:bg-gray-500/10 transition-colors">
              {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}
            </button>
          </div>

          <div className="md:hidden flex items-center space-x-4">
            <button onClick={toggleTheme} className="p-2">
              {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}
            </button>
            <button onClick={() => setIsMenuOpen(!isMenuOpen)}>
              {isMenuOpen ? <X size={24} /> : <Menu size={24} />}
            </button>
          </div>
        </div>
      </nav>

      {/* ヒーローセクション */}
      <section className="relative h-screen flex items-center justify-center overflow-hidden">
        <div className="absolute inset-0 z-0">
          <img 
            src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?auto=format&fit=crop&q=80&w=2000" 
            alt="Hero Background" 
            className="w-full h-full object-cover opacity-30 grayscale"
          />
          <div className={`absolute inset-0 ${isDarkMode ? 'bg-gradient-to-b from-transparent via-[#05140a]/60 to-[#05140a]' : 'bg-gradient-to-b from-white/20 via-white/60 to-white'}`}></div>
        </div>

        <div className="container mx-auto px-6 relative z-10 text-center animate-in fade-in slide-in-from-bottom-8 duration-1000">
          <h2 className="text-sm md:text-base font-bold tracking-[0.5em] mb-4 uppercase" style={{ color: accentColor }}>
            Photographer & Videographer
          </h2>
          <h1 className="text-6xl md:text-8xl lg:text-9xl font-bold mb-8 tracking-tighter">
            SEI<span className="opacity-50">SANS</span>
          </h1>
          <p className="text-lg md:text-2xl font-light max-w-3xl mx-auto mb-12 leading-relaxed opacity-90">
            ステージの鼓動、空からのポートレート。<br />
            記憶に刻まれる「瞬間」を、映画のような映像美で。
          </p>
          <a href="#contact" className="inline-block px-10 py-4 font-bold rounded-sm transition-all hover:scale-105 active:scale-95 shadow-lg" style={{ backgroundColor: accentColor, color: isDarkMode ? 'black' : 'white' }}>
            撮影を予約する
          </a>
        </div>

        <div className="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce opacity-30">
          <ChevronDown size={32} />
        </div>
      </section>

      {/* 制作実績セクション - モダンなグリッド配置 */}
      <section id="works" className={`py-24 ${isDarkMode ? 'bg-[#030d07]' : 'bg-gray-100'}`}>
        <div className="container mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-3xl md:text-5xl font-bold mb-4 uppercase tracking-wider">制作実績</h2>
            <div className="h-1 w-20 mx-auto mb-6" style={{ backgroundColor: accentColor }}></div>
            <p className={`max-w-2xl mx-auto ${textSecondary}`}>
                一瞬の表情、光の重なり。アップロードされた作品を中心とした、モダンなギャラリーレイアウトです。
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 auto-rows-[250px] md:auto-rows-[300px] gap-4">
            {WORKS_DATA.map((work) => (
              <div 
                key={work.id} 
                className={`group relative overflow-hidden rounded-sm bg-black ${work.span} shadow-2xl transition-transform duration-500 hover:z-10`}
              >
                <img 
                  src={work.placeholder} 
                  alt={work.title} 
                  className="w-full h-full object-cover grayscale transition-all duration-1000 group-hover:grayscale-0 group-hover:scale-110 opacity-60 group-hover:opacity-100" 
                  onError={(e) => { e.currentTarget.src = 'https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?auto=format&fit=crop&q=80&w=800'; }}
                />
                <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col justify-end p-8">
                  <span className="text-xs font-bold tracking-[0.3em] mb-2 translate-y-4 group-hover:translate-y-0 transition-transform duration-500" style={{ color: accentColor }}>{work.category}</span>
                  <h4 className="text-xl md:text-2xl font-bold text-white translate-y-4 group-hover:translate-y-0 transition-transform duration-500 delay-75">{work.title}</h4>
                  <div className="w-0 group-hover:w-12 h-0.5 mt-4 transition-all duration-700 delay-150" style={{ backgroundColor: accentColor }}></div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* 自己紹介セクション */}
      <section id="about" className="py-24 relative overflow-hidden">
        <div className="container mx-auto px-6">
          <div className="flex flex-col lg:flex-row gap-16 items-center">
            <div className="w-full lg:w-1/2 relative group">
              <div className="aspect-[3/4] overflow-hidden rounded-sm relative z-10 shadow-2xl">
                <img 
                  src="https://images.unsplash.com/photo-1554048612-b6348b367688?auto=format&fit=crop&q=80&w=1000" 
                  alt="Satoru Seibayashi" 
                  className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                />
              </div>
              <div className="absolute -top-6 -left-6 w-full h-full border border-[#d4af37]/30 rounded-sm -z-0"></div>
            </div>

            <div className="w-full lg:w-1/2 space-y-8">
              <div className="inline-block p-1 px-3 mb-2 text-xs font-bold tracking-widest bg-blue-900/30 text-blue-400 rounded-sm border border-blue-900/50 uppercase">
                Profile
              </div>
              <h3 className="text-4xl md:text-5xl font-bold leading-tight">
                はじめまして、<br />
                SEISANSの<span style={{ color: accentColor }}>生林 覚</span>です。
              </h3>
              <div className={`space-y-6 text-lg leading-relaxed ${textSecondary}`}>
                <p>
                  人物撮影に特化し、10年以上にわたり名古屋と岐阜を中心に活動しています。ダンスステージ、音楽ライブ、そしてプロフィール写真まで、被写体の内面にある「熱」を写し出すことを使命としています。
                </p>
                <p>
                  最新のドローン技術を用いた「ポートレート動画」では、これまでにない壮大な視点から個人の魅力を引き出します。
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* お問い合わせセクション */}
      <section id="contact" className={`py-24 ${isDarkMode ? 'bg-[#030d07]' : 'bg-gray-100'}`}>
        <div className="container mx-auto px-6 max-w-6xl">
          <div className="flex flex-col lg:flex-row gap-16">
            <div className="w-full lg:w-2/5 space-y-8">
              <h2 className="text-4xl md:text-5xl font-bold uppercase tracking-wider">Contact</h2>
              <div className="h-1 w-20" style={{ backgroundColor: accentColor }}></div>
              <p className={`text-lg leading-relaxed ${textSecondary}`}>
                撮影のご依頼、お見積り、機材の相談など、お気軽にお問い合わせください。
              </p>
              
              <div className="space-y-6">
                <div className="flex items-center gap-4 p-6 rounded-sm border border-gray-500/10 bg-black/20 hover:border-[#d4af37]/50 transition-colors">
                  <div className="text-[#d4af37]"><Mail size={24} /></div>
                  <div>
                    <h5 className="font-bold text-xs uppercase opacity-40 mb-1">Email</h5>
                    <p className="text-md font-mono">satoru4113@yahoo.co.jp</p>
                  </div>
                </div>
                <div className="flex space-x-4">
                  <a href="https://instagram.com/satoru.seibayashi" target="_blank" rel="noreferrer" className="p-4 bg-gray-500/10 rounded-sm hover:bg-[#d4af37] hover:text-black transition-all">
                    <Instagram size={24} />
                  </a>
                  <a href="https://facebook.com/Satoru.Seibayashi" target="_blank" rel="noreferrer" className="p-4 bg-gray-500/10 rounded-sm hover:bg-blue-600 hover:text-white transition-all">
                    <Facebook size={24} />
                  </a>
                </div>
              </div>
            </div>

            <div className="w-full lg:w-3/5">
              <form className={`p-8 md:p-12 rounded-sm ${bgCard} shadow-2xl border border-gray-500/5`} onSubmit={(e) => e.preventDefault()}>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                  <div className="space-y-2">
                    <label className="text-xs font-bold uppercase tracking-widest opacity-60">お名前</label>
                    <input type="text" className={`w-full p-4 rounded-none border-b bg-transparent focus:outline-none focus:border-[#d4af37] transition-all ${isDarkMode ? 'border-gray-800' : 'border-gray-300'}`} placeholder="山田 太郎" />
                  </div>
                  <div className="space-y-2">
                    <label className="text-xs font-bold uppercase tracking-widest opacity-60">メールアドレス</label>
                    <input type="email" className={`w-full p-4 rounded-none border-b bg-transparent focus:outline-none focus:border-[#d4af37] transition-all ${isDarkMode ? 'border-gray-800' : 'border-gray-300'}`} placeholder="example@mail.jp" />
                  </div>
                </div>
                <div className="space-y-2 mb-10">
                  <label className="text-xs font-bold uppercase tracking-widest opacity-60">お問い合わせ内容</label>
                  <textarea rows={6} className={`w-full p-4 rounded-none border-b bg-transparent focus:outline-none focus:border-[#d4af37] transition-all ${isDarkMode ? 'border-gray-800' : 'border-gray-300'}`} placeholder="撮影のジャンル、希望日程、場所などをご記入ください"></textarea>
                </div>
                <button className="w-full py-5 font-bold flex items-center justify-center gap-3 transition-all transform hover:brightness-110 active:scale-[0.98] shadow-xl" style={{ backgroundColor: accentColor, color: isDarkMode ? 'black' : 'white' }}>
                  メッセージを送信する <Send size={18} />
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>

      {/* フッター */}
      <footer className={`py-12 border-t border-gray-500/10 ${bgMain}`}>
        <div className="container mx-auto px-6 text-center">
          <div className="text-xl font-bold tracking-[0.3em] mb-6" style={{ color: accentColor }}>SEISANS</div>
          <p className="text-sm opacity-40 mb-8">&copy; {new Date().getFullYear()} Satoru Seibayashi. All Rights Reserved.</p>
        </div>
      </footer>
    </div>
  );
};

export default App;
